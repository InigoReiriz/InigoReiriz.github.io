<!DOCTYPE html>
<html lang="en">
  <head>
        <style type="text/css"> 
            .axis path,
            .axis line {
            fill: none;
            stroke: black;
            shape-rendering: crispEdges;
            }
            .axis text {
            font-family: sans-serif;
            font-size: 11px;
            }
        </style>
      <meta charset="utf-8">
      <title>D3 Page Template</title>
      <script type="text/javascript" src="../../d3/d3.js"></script>
  </head>
  <body>
      <script type="text/javascript">
          // Making a scatterplot using D3
           //Width and height (size of the SVG)
          var w = 500;
          var h = 200;
          var padding = 30; //for element that are getting cutoff
          /*helps us push the elements away from the edges of SVG*/

          var dataset = [
                  [5, 20], [480, 90], [250, 50], [100, 33], [330, 95],
                  [410, 12], [475, 44], [25, 67], [85, 21], [220, 88]
          ];

          /*scale function for the x-axis*/
          var xScale = d3.scale.linear()
                      .domain([0, d3.max(dataset, function(d) { return d[0]; })])
                      .range([padding, w-padding * 2]); //padding fixing to avoid cutoff of the text

          /*scale function for the y-axis*/
          var yScale = d3.scale.linear()
                      .domain([0, d3.max(dataset, function(d) { return d[1]; })])
                      .range([h-padding,padding]); //high values of y are at the top and low values at the bottom.

          /*label x axis*/
          var xAxis = d3.svg.axis()
                      .scale(xScale)
                      .orient("bottom") //where the labels should appear relative to the x-axis.
                      .ticks(5); //Set rough # of ticks

          /*label y axis*/
          var yAxis = d3.svg.axis()
                    .scale(yScale)
                    .orient("left")
                    .ticks(5);

          /*To actually generate the axis and insert all those little lines and labels into our SVG, we call the xAxis function.
          We do it at the end of the script so the axis is generated after after the other elements in the SVG and therefore 
          appears on top.*/

          //Create SVG element
          var svg = d3.select("body")
            .append("svg")
            .attr("width", w)
            .attr("height", h);

          //Instead of creating rects, we will make a circle for each data point.
           /*Also, instead of specifying the rect attributes of x,y, width and height, our circles
          need cx, cy and r.*/
          svg.selectAll("circle") // <-- No longer "rect"
              .data(dataset)
              .enter()
              .append("circle")  // <-- No longer "rect"
              .attr("cx", function(d) {
                    return xScale(d[0]);
              })
              .attr("cy", function(d) {
                    return yScale(d[1]);
              })
              .attr("r", 5);
          //labels
          svg.selectAll("text") // <-- Note "text", not "circle" or "rect"
              .data(dataset)
              .enter()
              .append("text") // <-- Same here!
              .text(function(d) {
                  return d[0] + "," + d[1];
              })
              .attr("x", function(d) {
                return xScale(d[0]);
              })
              .attr("y", function(d) {
                return yScale(d[1]);
              })
              .attr("font-family", "sans-serif")
              .attr("font-size", "11px")
              .attr("fill", "red");

              //Create X axis
              svg.append("g")
                  .attr("class", "axis") //Assign "axis" class to clean it up using CSS
                  .attr("transform", "translate(0," + (h - padding) + ")") /*transform the entire axis group pushing it
                  to the bottom.*/
                  .call(xAxis);

              //Create Y axis
              svg.append("g")
                  .attr("class", "axis")
                  .attr("transform", "translate(" + padding + ",0)")
                  .call(yAxis);

      </script>
  </body>
</html>