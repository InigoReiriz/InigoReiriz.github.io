<!DOCTYPE html>
<html lang="en">
  <head>
    	<style type="text/css"> 
            p {
                font-size: 24px;
                font-weight: bold;
                font-family: sans-serif;
            }
        </style>
        <!--We employ ID selectors to have a control over where the graphs are placed -->
        <!--This means we name a position in our web page and then we can assign our graphs to those places -->
        <div id="area1"></div>
		<div id="area2"></div>

      <meta charset="utf-8">
      <title>D3 Page Template</title>
      <script type="text/javascript" src="../d3/d3.js"></script>
  </head>
  <body>
      <script type="text/javascript">

          /*We declare a global varibale first, then call d3.csv to load the data. Within the callback function, we copy the data into the global variable (so it is available to all of our subsequent functions).*/
          var dataset; //Global variable
          var area;

          d3.csv("data.csv", function(error, data) {

            if (error) { //If error is not null, something went wrong.
              console.log(error); //Log the error.
            } else { //If no error, the file loaded correctly. Yay!
              console.log(data); //Log the data.
              dataset = data; //Once loaded, copy to variable dataset which is a global variable
              area = "#area1"
              generate_text(area);
              area = "#area2"
              generate_text(area)
            }
          });

          function generate_text(area){

                d3.select("body").selectAll(area)
                    .data(dataset)
                    .enter()
                    .append("p")
                    .text(function(d) {
                        return "I can count up to " + d.Data; //Data(header) is the property with which we can access the object value
                    });
          }
          
      </script>
  </body>
</html>